<!DOCTYPE html>
<html>
<title>Adding a New Map</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body {font-family: "Lato", sans-serif}
.mySlides {display: none}
</style>
<body>

<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-black w3-card">
	<a class="w3-bar-item w3-button w3-padding-large w3-hide-medium w3-hide-large w3-right" href="javascript:void(0)" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
	<a href="https://www.assetstore.unity3d.com/en/#!/content/106794" target="_blank" class="w3-bar-item w3-button w3-padding-large"><img src="images/button/assetstore.png"></a>
	<a href="index.html" class="w3-bar-item w3-button w3-padding-large">Updates</a>
    <a href="features.html" class="w3-bar-item w3-button w3-padding-large w3-hide-small">Features</a>
    <a href="https://drive.google.com/drive/folders/1nBRQvLlJ42_PmdJKXCltRcsNO3RpGaAA"  target="_blank" class="w3-bar-item w3-button w3-padding-large w3-hide-small">Download Demos</a>
    <a href="mailto:support@easymoba.com?subject=EasyMOBA_Support" class="w3-bar-item w3-button w3-padding-large w3-hide-small">Support</a>
    <div class="w3-dropdown-hover w3-hide-small">
      <button class="w3-padding-large w3-button" title="Documentation">Documentation <i class="fa fa-caret-down"></i></button>     
      <div class="w3-dropdown-content w3-bar-block w3-card-4">
        <a href="WhatsEasyMOBA.html" class="w3-bar-item w3-button">What is EasyMOBA?</a>
        <a href="UnderstandingtheServerArchitecture.html" class="w3-bar-item w3-button">Understanding Server Architecture</a>
        <a href="UnderstandingtheClientArchitecture.html" class="w3-bar-item w3-button">Understanding Client Architecture</a>
		<a href="AddingHero.html" class="w3-bar-item w3-button">Adding a Hero</a>
		<a href="AddingCreature.html" class="w3-bar-item w3-button">Adding a Creature</a>
		<a href="AddingMap.html" class="w3-bar-item w3-button">Adding a Map</a>
		<a href="AddingGameMode.html" class="w3-bar-item w3-button">Adding Game Mode</a>
		<a href="Languages.html" class="w3-bar-item w3-button">Editing & Adding Languages</a>
		<a href="KeyController.html" class="w3-bar-item w3-button">Key Controller</a>
		<a href="KeyBinder.html" class="w3-bar-item w3-button">Key Binder</a>
      </div>
    </div>

	<div class="w3-dropdown-hover w3-hide-small">
      <button class="w3-padding-large w3-button" title="VideoTutorials">Video Tutorials <i class="fa fa-caret-down"></i></button>     
      <div class="w3-dropdown-content w3-bar-block w3-card-4">
			<a href="https://www.youtube.com/watch?v=tkAbHkk3qiw" target="_blank" class="w3-bar-item w3-button">Installation and Building Client & Server</a>
			<a href="https://www.youtube.com/watch?v=DgC9T57EJms" target="_blank" class="w3-bar-item w3-button">Adding a Hero</a>
			<a href="https://www.youtube.com/watch?v=KzEQd_s1TVw" target="_blank" class="w3-bar-item w3-button">Adding a Map</a>
			<a href="https://www.youtube.com/watch?v=I0qJ9r49IQo" target="_blank" class="w3-bar-item w3-button">Adding a Creature</a>
            <a href="https://www.youtube.com/watch?v=iKvA9sPy4pk" target="_blank" class="w3-bar-item w3-button">Adding a New Language</a>
      </div>
    </div>
  </div>
</div>

<!-- Navbar on small screens -->
<div id="navDemo" class="w3-bar-block w3-black w3-hide w3-hide-large w3-hide-medium w3-top" style="margin-top:46px">
  <a href="index.html" class="w3-bar-item w3-button w3-padding-large">UPDATES</a>
  <a href="https://www.youtube.com/channel/UC_Xg7EqRwpsTum-OGa2JW5w" class="w3-bar-item w3-button w3-padding-large">YOUTUBE</a>
  <a href="https://www.assetstore.unity3d.com/en/#!/content/106794" class="w3-bar-item w3-button w3-padding-large">ASSET STORE</a>
</div>

<!-- Page content -->
<div class="w3-content" style="max-width:2000px;margin-top:46px">

<!-- The Band Section -->
<div class="w3-container w3-content w3-padding-64" style="max-width:1200px">

<div class="panel">
<p>
Game maps are Unity Scenes.<br>
<br>
1- Create your map in an empty scene. 'Empty' means these scene must not have a Camera object.<br>
<i>IMPORTANT NOTE<br>
MAPS CANNOT HAS NEGATIVE POSITIONS. YOU SHOULD BUILD THE MAP FROM 0,0 to(for example) 64,64
</i><br>
2- Make 'static' your collider objects you want to be a collision for EasyMOBA. If you want to walkable static colliders, just set it layer to 'Ground'..<br>
<br><img src="images/doc/AddingMap_1.jpg"> <img src="images/doc/AddingMap_2.jpg"><br>
<br><i>All collider types are supported</i><br>
3- After creating your map, click on the EasyMOBA button on Top menu and select Map Exporter.
Export your map. Your exported map will be placed at Resources/Maps/<br>
<br><img src="images/doc/AddingMap_7.jpg"><br><br>
4- Now let's define this map it on the server side.<br>
Go to ServerData folder. ServerData folders are placed at the server application folder. If your server is a Unity Project (not builded yet) you can find that folder in the same folder with Assets, Project Settings etc.
<br><img src="images/doc/AddingMap_3.jpg"><br><br>
Enter ServerData/Maps/ folder. You will see a sample maps. Create new one by copying one of them. Name it as you wish.
<br><img src="images/doc/AddingMap_4.jpg"><br>
<br><img src="images/doc/AddingMap_5.jpg"><br><br>
Now go to that folder, you will see the a .png file. Replace it with your map export (See the step 3)<br>
<b>But don't delete your maps from client project. Client also uses the map exports.</b><br>
The name of the .png file is not important. Server will read the first .png file in the folder.<br>
Open the MapData.json file. It's setting file of your map. You will add your spawn points, creature spawns, team size, round time etc.
<br>
<br><img src="images/doc/AddingMap_6.jpg">
<br>
<b>MAP SETTINGS</b><br>
<br>"mapSize":64, // <font color="red">MapSize is deprecated.</font> The server reads the map size automatically from file name. 
<br>"clientLanguageId":55, // All connected client will see this map on the list. clientLanguageId will be the map name. Check Languages section for more information
<br>"clientSceneName":"TeamDeathmatch", // Client scene name is the name of your scene you have created on the client project. <i>Don't forget to add your scene to the build settings->scene list.</i>
<br><br>"teamsize":2,<br>// teamsize:0 means Deathmatch. Team spawn points will be readed from spawnPoints array no 0. <br>teamsize:1 means co-op. Team spawn points will be readed from spawnPoints array no 0.
<br>If the teamsize is higher than 1 means team teathmatch. Team spawn points will be readed from spawnPoints array no [TeamNo]. Don't create a new spawnPoints object in the json file for every team.
<br>"roundCount":8,// round count of the session (seconds)
<br>"roundTime":60,// round time of per round (seconds)
<br>"lobbyTime":2,// Lobby waiting time for other players or preparing (seconds)
<br>"experienceModifier":2, // You know what it means :) Every received exp will be multiplied with this value. (float value, it can be etc 1.5)
<br>"maxPlayers":8, // Maximum players
<br>"minPlayers":4, // Minimum players. If you make it 1, the map will be played as singleplayer. Probably againts creatures. Or Traning ground etc.<br>After the waiting lobby time, if the minimum players doesn't meet, the session owner can add bots.
<br>"teamData": // Spawn points, add spawnObject {} object for every team. If you face parsing errors, see: https://www.w3schools.com/js/js_json_arrays.asp
<br><br>
"creatureSpawns": // The spawns of creatures.
<br>[
<br>{
<br>"spawnPoint": { "x":20.98, "y":0, "z":20.49}, // The spawn point
<br>"spawnTime":4, // Spawn time
<br>"spawnCount":4, // Max creatures will be spawned by this spawner.
<br>"spawnRange":30, // Range of the spawner
<br>"spawnObject": // Spawn objects. High value of rate will be spawned mostly.
<br>[
<br>{
<br>	"clientPrefab":"Skeleton", // The creature Id, check Adding a Creature section for more information
<br>	"spawnRate":20
<br>},
<br>{
<br>	"clientPrefab":"SkeletonKing",
<br>	"spawnRate":1
<br>}
<br>]
<br>}
<br>]
	
<br><br>
</p> 
</div>
</div>

<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-center w3-opacity w3-light-grey w3-xlarge">
  <a href="https://www.youtube.com/channel/UC_Xg7EqRwpsTum-OGa2JW5w" target="_blank"><img src="images/youtube.png"></a>
  <p class="w3-medium">Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
</footer>
</div>

<script>
// Used to toggle the menu on small screens when clicking on the menu button
function myFunction() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else { 
        x.className = x.className.replace(" w3-show", "");
    }
}

// When the user clicks anywhere outside of the modal, close it
var modal = document.getElementById('ticketModal');
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>

</body>
</html>
