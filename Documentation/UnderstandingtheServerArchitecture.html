<!DOCTYPE html>
<html>
<title>Understanding The Server Architecture?</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body {font-family: "Lato", sans-serif}
.mySlides {display: none}
</style>
<body>

<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-black w3-card">
	<a class="w3-bar-item w3-button w3-padding-large w3-hide-medium w3-hide-large w3-right" href="javascript:void(0)" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
	<a href="https://www.assetstore.unity3d.com/en/#!/content/106794" target="_blank" class="w3-bar-item w3-button w3-padding-large"><img src="images/button/assetstore.png"></a>
	<a href="index.html" class="w3-bar-item w3-button w3-padding-large">Updates</a>
    <a href="features.html" class="w3-bar-item w3-button w3-padding-large w3-hide-small">Features</a>
    <a href="https://drive.google.com/drive/folders/1nBRQvLlJ42_PmdJKXCltRcsNO3RpGaAA"  target="_blank" class="w3-bar-item w3-button w3-padding-large w3-hide-small">Download Demos</a>
    <a href="mailto:support@easymoba.com?subject=EasyMOBA_Support" class="w3-bar-item w3-button w3-padding-large w3-hide-small">Support</a>
    <div class="w3-dropdown-hover w3-hide-small">
      <button class="w3-padding-large w3-button" title="Documentation">Documentation <i class="fa fa-caret-down"></i></button>     
      <div class="w3-dropdown-content w3-bar-block w3-card-4">
        <a href="WhatsEasyMOBA.html" class="w3-bar-item w3-button">What is EasyMOBA?</a>
        <a href="UnderstandingtheServerArchitecture.html" class="w3-bar-item w3-button">Understanding Server Architecture</a>
        <a href="UnderstandingtheClientArchitecture.html" class="w3-bar-item w3-button">Understanding Client Architecture</a>
		<a href="AddingHero.html" class="w3-bar-item w3-button">Adding a Hero</a>
		<a href="AddingCreature.html" class="w3-bar-item w3-button">Adding a Creature</a>
		<a href="AddingMap.html" class="w3-bar-item w3-button">Adding a Map</a>
		<a href="AddingGameMode.html" class="w3-bar-item w3-button">Adding Game Mode</a>
		<a href="Languages.html" class="w3-bar-item w3-button">Editing & Adding Languages</a>
		<a href="KeyController.html" class="w3-bar-item w3-button">Key Controller</a>
		<a href="KeyBinder.html" class="w3-bar-item w3-button">Key Binder</a>
      </div>
    </div>

	<div class="w3-dropdown-hover w3-hide-small">
      <button class="w3-padding-large w3-button" title="VideoTutorials">Video Tutorials <i class="fa fa-caret-down"></i></button>     
      <div class="w3-dropdown-content w3-bar-block w3-card-4">
			<a href="https://www.youtube.com/watch?v=tkAbHkk3qiw" target="_blank" class="w3-bar-item w3-button">Installation and Building Client & Server</a>
			<a href="https://www.youtube.com/watch?v=DgC9T57EJms" target="_blank" class="w3-bar-item w3-button">Adding a Hero</a>
			<a href="https://www.youtube.com/watch?v=KzEQd_s1TVw" target="_blank" class="w3-bar-item w3-button">Adding a Map</a>
			<a href="https://www.youtube.com/watch?v=I0qJ9r49IQo" target="_blank" class="w3-bar-item w3-button">Adding a Creature</a>
            <a href="https://www.youtube.com/watch?v=iKvA9sPy4pk" target="_blank" class="w3-bar-item w3-button">Adding a New Language</a>
      </div>
    </div>
  </div>
</div>

<!-- Navbar on small screens -->
<div id="navDemo" class="w3-bar-block w3-black w3-hide w3-hide-large w3-hide-medium w3-top" style="margin-top:46px">
  <a href="index.html" class="w3-bar-item w3-button w3-padding-large">UPDATES</a>
  <a href="https://www.youtube.com/channel/UC_Xg7EqRwpsTum-OGa2JW5w" class="w3-bar-item w3-button w3-padding-large">YOUTUBE</a>
  <a href="https://www.assetstore.unity3d.com/en/#!/content/106794" class="w3-bar-item w3-button w3-padding-large">ASSET STORE</a>
</div>

<!-- Page content -->
<div class="w3-content" style="max-width:2000px;margin-top:46px">

<!-- The Band Section -->
<div class="w3-container w3-content w3-padding-64" style="max-width:1200px">

<div class="panel">
<p>
Understanding the server architecture.<br>
The server side of EasyMOBA is a Unity Application.<br>
The server made by using Unity's libraries, including UnityEngine.Networking API.<br>
<br>
The server reads the game data from an external folder 'ServerData'.<br>
You can find all 'editable parts without coding' of the server in that folder.<br>
Adding heroes, maps, game modes etc.<br>
<br>
The Server Architecture<br>
<br>
-GAME SESSIONS-<br>
The server has a system named 'Callipso' (Callipso.cs)<br>
Callipso has a List that contains all the game sessions and controls it via 'ServerManager.cs'.<br>
Callipso doesn't run another executable for game sessions. All game sessions runs in the current executable.<br>
<br>
On our test with AI Player Bots, the server is well runned with 3000 game sessions and 24000 agents (12000 players, 12000 creatures)<br>
Server test machine system specs:<br>
i7 3.6 GHZ<br>
32 gb ram<br>
<br>
For example; the server can hold easily 1000 players and 1000 creatures on 250 game sessions on 3 gb ram server and 5mbps internet connection.<br>
<br>
Bandwidth notice:<br>
Your players should have 2 kbps connection (3g is ok) to play the game properly.<br>
1 game session with 4 players and 4 creatures cost 2 kbps download & 8kbps upload bandwidth.<br>
<br>
<i>Note that the values are approximate.</i><br>
<br>
-MAP EXPORTS-<br>
After you build your map in Client project, the Callipso Map Exporter tool will give your a .png map file in Resources/Maps folder in your client project.<br>
That map file contains map collision and it will be used for pathfinding algorithm and collision detection.<br>
Check !Adding a new map and game modes! section for more info.<br>
<br>
-PHYSICS & COLLISION DETECTION-<br>
The server doesn't use the Unity's collision detection.<br>
The server has a script name Physik.cs<br>
It's a cheap and the fastest solution for the collision detectioning.<br>
'Physik objects' has radius and the 'Tracer Physik objects' looks for the 'Physik objects' in its radius in their game session.<br>
<br>
-CREATURES AND AI Player's PATHFINDING-<br>
Connected players agents don't use the pathfinding. They choses the path they want to move. But the other agents (Creatures and AI Players) uses<br>
a pathfinding algorithm to reach the target.<br>
<br>
<br>
EpPathFinding.cs<br>
================<br>
#### A jump point search algorithm for grid based games in C# ####<br>
<br>
</p> 
</div>
</div>

<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-center w3-opacity w3-light-grey w3-xlarge">
  <a href="https://www.youtube.com/channel/UC_Xg7EqRwpsTum-OGa2JW5w" target="_blank"><img src="images/youtube.png"></a>
  <p class="w3-medium">Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
</footer>
</div>

<script>
// Used to toggle the menu on small screens when clicking on the menu button
function myFunction() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else { 
        x.className = x.className.replace(" w3-show", "");
    }
}

// When the user clicks anywhere outside of the modal, close it
var modal = document.getElementById('ticketModal');
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>

</body>
</html>
